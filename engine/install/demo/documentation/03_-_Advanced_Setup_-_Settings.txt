h1. Advanced Setup 

h2. Settings

h3. Introduction

* Use the advanced set-up to enhance Subfolio. 
* Advanced enhancers use a Markup Language called Yaml. 
* Yaml is an easy to read - easy to write data serialization format.
* Formatting and indentation of Yaml files is important. Yaml is case sensitive and does not allow extra spaces. Make sure to follow these rules otherwise the enhancers will not work (and you might break your page).

h3. General Settings

You can edit general Subfolio properties. 

bq. File location: /config/settings/settings.yml

* Update the values with your settings. You can override all settings in this file:
* There is a sample file for you to refer to: settings.sample.yml

* Site name
<pre><code>site_name: Name of Your Website</code></pre>

* Site url / domain
<pre><code>site_domain: www.example.com</code></pre>

* Logo
<pre><code>
site_logo_url: /config/themes/default/images/logos/logo.png
site_logo_width: 256
site_logo_height: 53
</code></pre>

* Active theme folder name
<pre><code>theme: default</code></pre>

* Location of the files to be served
<pre><code>directory: directory</code></pre>

* Name of the file containing security settings
<pre><code>access_file: -access</code></pre>

* Name of the file containing folder properties information
<pre><code>properties_file: -properties</code></pre>

* Name of the users yaml file
<pre><code>users_yaml_file: users.yml</code></pre>

* Name of the groups yaml file
<pre><code>groups_yaml_file: groups.yml</code></pre>

* Maximum image size in MB for creating a thumbnail
<pre><code>thumbnail_max_filesize: 5</code></pre>

* Text rendering style (textile or html)
<pre><code>text_rendering: textile</code></pre>

* Name of the filekinds yaml file
<pre><code>filekinds_yaml_file: filekinds.yml</code></pre>

* Name of the languages yaml file
<pre><code>language_yaml_file: language.yml</code></pre>


h3. File Kind Settings

File kind data is stored in a Yaml file, the location is defined in the settings file, in the file_kinds_yaml_file property.

The default is:

bq.  /config/settings/filekinds.yml

The file kinds are stored in the following format:

<pre><code>kind:
  extensions: [list]
  icon: kind
  display: Kind Long Name
  instructions:>
    Your instructions here. Download the plugin <a href='url_to_the_plugin' target='_blank'>here</a>.
  width: 640
  height: 480
</code></pre>

kind: a unique identifier for the kind you are defining.
extensions: contains a list of file extensions that are associated with this file kind
icon: used to define the image icon that will be shown with this file kind
display: used to define the text that is displayed with file kinds in the listing
instructions: if you want to add instructions on how to find the reader / plugin to read that kind of file
with and height: the default width and height for this file kind. Can be overwritten locally using the file properties 

For example:

<pre><code>pdf:
  extensions: [pdf]
  icon: pdf
  display: PDF Document
  instructions:>
    You must have the free Adobe Acrobat Reader to view this file. Download it <a href='http://get.adobe.com/reader/' target='_blank'>here</a>.<br/>
    For firefox users, you can find the plugin "here":https://addons.mozilla.org/en-US/firefox/addon/7518
  width: 1040
  height: 480
</code></pre>

The icon is used to generate an image name that varies depending on whether the file has been recently updates, or the folder access is restricted.

h3. Language Settings

Language settings are stored in a Yaml file, the location is defined in the settings file, in the language_yaml_file property.

The default is:

bq.  /config/settings/language.yml

The language description are stored in the following format:

<pre><code>kind:
  term: display
</code></pre>

For example:

<pre><code>sendpage: send page
</code></pre>

To use a new language file it is recommended you copy the existing language.yml file to a new file, and update your settings.yml entry to point to that file.  For example, if you wish to create a French language file, you could copy language.yml to 

bq. language_fr.yml

You would then update your settings file with:

bq.  language_yaml_file: language_fr.yml


